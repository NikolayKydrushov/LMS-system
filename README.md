# Проект LMS-system

## Описание


## Установка:

1. Клонируйте репозиторий:
```
https://github.com/NikolayKydrushov/first_Django_project
```

## Задание 1
Реализуйте CRUD для пользователей, в том числе регистрацию пользователей, настройте в проекте использование JWT-авторизации и закройте каждый эндпоинт авторизацией.
__Эндпоинты для авторизации и регистрации должны остаться доступны для неавторизованных пользователей.__


## Задание 2
Заведите группу модераторов и опишите для нее права работы с любыми уроками и курсами, но без возможности их удалять и создавать новые. 
Заложите функционал такой проверки в контроллеры.

__Модератор может просматривать и редактировать любые уроки и курсы, но не может удалять и создавать уроки и курсы. Каждая операция — это определенный контроллер (часть ViewSet или отдельный Generic).
Заведите отдельный класс для определения, является ли пользователь модератором в permissions.py, для проверки прав используйте метод has_permission() и проверку принадлежности пользователя определенной группе. 
Сделать это можно с помощью проверки пользователя: 
request.user.groups.filter(name='имя_группы').exists()
Группы назначайте пользователям через админ-панель.
Создайте фикстуру или кастомную команду для заполнения созданных вами групп в базе данных.
Фикстуры можно снять командой, например:
**python manage.py dumpdata auth.group --indent 2 > users/fixtures/groups.json**
Определите права на контроллеры.__


## Задание 3
Опишите права доступа для объектов таким образом, чтобы пользователи, которые не входят в группу модераторов, могли видеть, редактировать и удалять только свои курсы и уроки.

__Пользователь-немодератор — это любой другой авторизованный пользователь. Определите контроллеры, на которые необходимо добавить новые права доступа.
Важно, что пользователи имеют право просматривать и редактировать только свои объекты. Чтобы это реализовать, привяжите объект при создании к определенному пользователю.
Для этого добавьте в модель поле владельца и свяжите его с моделью пользователя. Не забудьте выполнить и запушить миграции.
В контроллере создания объекта используйте метод perform_create() для управления созданием объекта и автоматической привязки создаваемого объекта к авторизованному пользователю.
Ссылка на документацию — раздел Save and deletion hooks.
Пример использования метода для создания урока и привязки его к авторизованному пользователю:__
```
class LessonCreateAPIView(generics.CreateAPIView):
		...

    def perform_create(self, serializer):
        serializer.save(название_поля_владельца=self.request.user)
```
__Этот метод также можно использовать и во ViewSet для управления созданием объекта. Логика применения метода идентична применению в Generics.
Права доступа можно объединять между собой и динамически управлять доступом к определенному контроллеру.
Для этого в DRF используются специальные символы — & (логическое И), | (логическое ИЛИ), ~ (логическое отрицание).
Например, нам необходимо, чтобы контроллер был доступен авторизованным пользователям и тем, кто не входит в группу модераторов:__
```
class SomeListAPIView(generics.ListAPIView):
		...
    permission_classes = [IsAuthenticated, ~IsModer]
```
__Или контроллер должен быть доступен авторизованным пользователям и ЛИБО модераторам, ЛИБО владельцам объектов.__
```
class SomeListAPIView(generics.ListAPIView):
		...
    permission_classes = [IsAuthenticated, IsModer | IsOwner]
```
__Не забудьте проверить работоспособность ограничений через Postman.__

